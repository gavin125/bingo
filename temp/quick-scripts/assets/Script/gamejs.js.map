{"version":3,"sources":["gamejs.js"],"names":["cc","Class","extends","Component","properties","clock","timeLabel","default","type","Label","sendNode","Node","ballPrefab","Prefab","trayPrefab","cardPrefab","tabbarPrefab","endLabel","onLoad","num","window","cardnum","i","newTray","instantiate","x","y","Math","ceil","node","addChild","newTabbar","getComponent","active","text","log","update","dt","going","gameEnd","string","_time","addBall","initDate","_this","baseArr","push","baseBingo","B","slice","I","N","G","O","CardArr","listB","randomCard","listI","listN","listG","listO","forEach","v","Card","splice","arr","n","temp","t","floor","random","length","sign","initDraw","newCard","areaNode","newBall","randomBall","insertChild","_doneArr","bingo","signArr","children","str","getChildByName","back","director","loadScene","again"],"mappings":"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","file":"gamejs.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n  extends: cc.Component,\r\n\r\n  properties: {\r\n  \tclock:200,\r\n\t\ttimeLabel: {default: null,type: cc.Label},\r\n\t\tsendNode: {default: null,type: cc.Node},\r\n\t\tballPrefab: {default: null,type: cc.Prefab},\r\n\t\ttrayPrefab: {default: null,type: cc.Prefab},\r\n\t\tcardPrefab: {default: null,type: cc.Prefab},\r\n\t\ttabbarPrefab: {default: null,type: cc.Prefab},\r\n\t\tendLabel: {default: null,type: cc.Label},\r\n\t\t\r\n  },\r\n\r\n  // LIFE-CYCLE CALLBACKS:\r\n\r\n  onLoad () {\r\n\t\tthis.num=window.cardnum?window.cardnum:3;\r\n\t\t\r\n\t\tfor(let i=1;i<=this.num;i++){\r\n\t\t\tvar newTray = cc.instantiate(this.trayPrefab);\r\n\t\t\tnewTray.x=200-i%2*400;\r\n\t\t\tnewTray.y=550-Math.ceil(i/2)*600;\r\n\t\t\tthis.node.addChild(newTray);\r\n\t\t}\r\n\t\tif(Math.ceil(this.num/2)>1){\r\n\t\t\tfor(let i=1;i<=Math.ceil(this.num/2);i++){\r\n\t\t\t\tvar newTabbar = cc.instantiate(this.tabbarPrefab);\r\n\t\t\t\tif(i==1){newTabbar.getComponent('tabbarjs').active=true;}\r\n\t\t\t\tnewTabbar.getComponent('tabbarjs').text=i;\r\n\t\t\t\tthis.node.addChild(newTabbar);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tcc.log(this);\r\n//     this.initDate();\r\n//     this.initDraw();\r\n// \t\tthis.timeLabel.string=this.clock;\r\n// \t\tthis._time=0;\r\n// \t\tthis._doneArr=[];\r\n// \t\tthis.going=true;\r\n  },\r\n\r\n  // start () {},\r\n\r\n  update (dt) {\r\n\t\tif(!this.going){return;}\r\n\t\t// 倒计时\r\n    if(this.clock<0){\r\n      this.gameEnd('Game Over');\r\n    }else{\r\n      this.clock-=dt;\r\n      this.timeLabel.string=Math.ceil(this.clock);\r\n    }\r\n\t\t\r\n\t\t// 发球\r\n\t\tif(this._time>5){\r\n\t\t\tthis._time=0;\r\n\t\t\tthis.addBall();\r\n\t\t}else{this._time+=dt;}\r\n\t\t\r\n  },\r\n\t\r\n\t// 初始化数据\r\n  initDate(){\r\n\t\tvar _this=this;\r\n\t\t_this.baseArr=[];//1-75\r\n\t\tfor(var i=1;i<76;i++){_this.baseArr.push(i);}\r\n\t\t\r\n\t\t_this.baseBingo={\r\n\t\t\tB:_this.baseArr.slice(0,15),\r\n\t\t\tI:_this.baseArr.slice(15,30),\r\n\t\t\tN:_this.baseArr.slice(30,45),\r\n\t\t\tG:_this.baseArr.slice(45,60),\r\n\t\t\tO:_this.baseArr.slice(60,75),\r\n\t\t};\r\n\t\t\r\n\t\t_this.CardArr=[];\r\n\t\tvar listB=_this.randomCard(_this.baseBingo.B,5);\r\n\t\tvar listI=_this.randomCard(_this.baseBingo.I,5);\r\n\t\tvar listN=_this.randomCard(_this.baseBingo.N,4);\r\n\t\tvar listG=_this.randomCard(_this.baseBingo.G,5);\r\n\t\tvar listO=_this.randomCard(_this.baseBingo.O,5);\r\n\t\t\r\n\t\tlistB.forEach(function(v,i){_this.CardArr.push(new _this.Card(v,false));})\r\n\t\tlistI.forEach(function(v,i){_this.CardArr.push(new _this.Card(v,false));})\r\n\t\tlistN.forEach(function(v,i){_this.CardArr.push(new _this.Card(v,false));})\r\n\t\tlistG.forEach(function(v,i){_this.CardArr.push(new _this.Card(v,false));})\r\n\t\tlistO.forEach(function(v,i){_this.CardArr.push(new _this.Card(v,false));})\r\n\t\t_this.CardArr.splice(12,0,new _this.Card('',true));\r\n\t\t\r\n\t\tcc.log(_this);\r\n\t},\r\n\t\r\n\t// 从数组中随机抽取n项生成新数组（n<arr.length）\r\n\trandomCard(arr,n){\r\n\t\tvar temp=[]\r\n\t\tfor(var i=0;i<n;i++){\r\n\t\t\tvar t=Math.floor(Math.random()*arr.length);\r\n\t\t\ttemp.push(arr.splice(t,1)[0])\r\n\t\t}\r\n\t\treturn temp;\r\n\t},\r\n\t\r\n\t// 卡构造函数\r\n\tCard(num,sign){\r\n\t\tthis.num=num;\r\n\t\tthis.sign=sign;\r\n\t},\r\n\t\r\n\t// 绘制界面\r\n\tinitDraw(){\r\n\t\tvar _this=this;\r\n\t\t_this.CardArr.forEach(function(v,i){\r\n\t\t\tvar newCard = cc.instantiate(_this.cardPrefab);\r\n\t\t\tnewCard.getComponent('cardjs').num=v.num;\r\n\t\t\tnewCard.getComponent('cardjs').sign=v.sign;\r\n\t\t\t_this.areaNode.addChild(newCard);\r\n\t\t})\r\n\t},\r\n\t\r\n\t\r\n\t\r\n\t// 发球\r\n\taddBall(){\r\n\t\tvar newBall = cc.instantiate(this.ballPrefab);\r\n\t\tnewBall.getComponent('balljs').num=this.randomBall();\r\n\t\tthis.sendNode.insertChild(newBall,0);\r\n\t}, \r\n\t\r\n\t// 随机一个球号\r\n\trandomBall(){\r\n\t\tvar t=Math.floor(Math.random()*this.baseArr.length);\r\n\t\tvar temp=this.baseArr.splice(t,1)[0];\r\n\t\tthis._doneArr.push(temp);\r\n\t\treturn temp;\r\n\t},\r\n\t\r\n\t// 是否完成\r\n\tbingo(){\r\n\t\tvar temp=false;\r\n\t\tvar signArr=[];\r\n\t\tthis.areaNode.children.forEach(function(v,i){\r\n\t\t\tsignArr[i]=v.getComponent('cardjs').sign;\r\n\t\t})\r\n\t\t// 判断十三种情况\r\n\t\tif(signArr[0]&&signArr[1]&&signArr[2]&&signArr[3]&&signArr[4]){temp=true;\r\n\t\t}else if(signArr[5]&&signArr[6]&&signArr[7]&&signArr[8]&&signArr[9]){temp=true;\r\n\t\t}else if(signArr[10]&&signArr[11]&&signArr[12]&&signArr[13]&&signArr[14]){temp=true;\r\n\t\t}else if(signArr[15]&&signArr[16]&&signArr[17]&&signArr[18]&&signArr[19]){temp=true;\r\n\t\t}else if(signArr[20]&&signArr[21]&&signArr[22]&&signArr[23]&&signArr[24]){temp=true;\r\n\t\t\r\n\t\t}else if(signArr[0]&&signArr[5]&&signArr[10]&&signArr[15]&&signArr[20]){temp=true;\r\n\t\t}else if(signArr[1]&&signArr[6]&&signArr[11]&&signArr[16]&&signArr[21]){temp=true;\r\n\t\t}else if(signArr[2]&&signArr[7]&&signArr[12]&&signArr[17]&&signArr[22]){temp=true;\r\n\t\t}else if(signArr[3]&&signArr[8]&&signArr[13]&&signArr[18]&&signArr[23]){temp=true;\r\n\t\t}else if(signArr[4]&&signArr[9]&&signArr[14]&&signArr[19]&&signArr[24]){temp=true;\r\n\t\t\r\n\t\t}else if(signArr[0]&&signArr[6]&&signArr[12]&&signArr[18]&&signArr[24]){temp=true;\r\n\t\t}else if(signArr[4]&&signArr[8]&&signArr[12]&&signArr[16]&&signArr[20]){temp=true;\r\n\t\t}else if(signArr[0]&&signArr[4]&&signArr[12]&&signArr[20]&&signArr[24]){temp=true;\r\n\t\t}\r\n\t\tif(temp){\r\n\t\t\tthis.gameEnd('Winner!');\r\n\t\t}else{\r\n\t\t\tthis.clock-=5;\r\n\t\t}\r\n\t},\r\n\r\n\r\n  // 游戏结束\r\n  gameEnd(str){\r\n\t\tthis.going=false;\r\n    this.node.getChildByName('gameend').active=true;\r\n\t\tthis.endLabel.string=str;\r\n  },\r\n\r\n  back(){\r\n    cc.director.loadScene(\"main\");\r\n  },\r\n\t\r\n  again(){\r\n    cc.director.loadScene(\"game\");\r\n  }\r\n\r\n\r\n});\r\n"]}