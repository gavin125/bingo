{"version":3,"sources":["gamejs.js"],"names":["cc","Class","extends","Component","properties","area","default","type","Node","cardPrefab","Prefab","onLoad","initDate","initDraw","start","_this","baseArr","i","push","baseBingo","B","slice","I","N","G","O","CardArr","listB","randomArr","listI","listN","listG","listO","forEach","v","Card","splice","log","arr","n","temp","t","Math","floor","random","length","num","sign","newCard","instantiate","getComponent","addChild","gameover","node","getChildByName","active","back","director","loadScene","again"],"mappings":"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","file":"gamejs.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n  extends: cc.Component,\r\n\r\n  properties: {\r\n\t\tarea: {default: null,type: cc.Node},\r\n\t\tcardPrefab: {default: null,type: cc.Prefab},\r\n\t\t\r\n  },\r\n\r\n  // LIFE-CYCLE CALLBACKS:\r\n\r\n  onLoad () {\r\n    this.initDate();\r\n    this.initDraw();\r\n   \r\n  },\r\n\r\n  start () {},\r\n\r\n//   update (dt) {\r\n//     if(this.conf.timer<0){\r\n//       this.gameover();return;\r\n//     }else{\r\n//       this.conf.timer-=dt;\r\n//       this.time.string=Math.floor(this.conf.timer);\r\n//     }\r\n//   },\r\n\t\r\n\t// 初始化数据\r\n  initDate(){\r\n\t\tvar _this=this;\r\n\t\t_this.baseArr=[];//1-75\r\n\t\tfor(var i=1;i<76;i++){_this.baseArr.push(i);}\r\n\t\t\r\n\t\t_this.baseBingo={\r\n\t\t\tB:_this.baseArr.slice(0,15),\r\n\t\t\tI:_this.baseArr.slice(15,30),\r\n\t\t\tN:_this.baseArr.slice(30,45),\r\n\t\t\tG:_this.baseArr.slice(45,60),\r\n\t\t\tO:_this.baseArr.slice(60,75),\r\n\t\t};\r\n\t\t\r\n\t\t_this.CardArr=[];\r\n\t\tvar listB=_this.randomArr(_this.baseBingo.B,5);\r\n\t\tvar listI=_this.randomArr(_this.baseBingo.I,5);\r\n\t\tvar listN=_this.randomArr(_this.baseBingo.N,4);\r\n\t\tvar listG=_this.randomArr(_this.baseBingo.G,5);\r\n\t\tvar listO=_this.randomArr(_this.baseBingo.O,5);\r\n\t\t\r\n\t\tlistB.forEach(function(v,i){_this.CardArr.push(new _this.Card(v,false));})\r\n\t\tlistI.forEach(function(v,i){_this.CardArr.push(new _this.Card(v,false));})\r\n\t\tlistN.forEach(function(v,i){_this.CardArr.push(new _this.Card(v,false));})\r\n\t\tlistG.forEach(function(v,i){_this.CardArr.push(new _this.Card(v,false));})\r\n\t\tlistO.forEach(function(v,i){_this.CardArr.push(new _this.Card(v,false));})\r\n\t\t_this.CardArr.splice(12,0,new _this.Card('',true));\r\n\t\t\r\n\t\tcc.log(_this);\r\n\t},\r\n\t// 从数组中随机抽取n项生成新数组（n<arr.length）\r\n\trandomArr(arr,n){\r\n\t\tvar temp=[]\r\n\t\tfor(var i=0;i<n;i++){\r\n\t\t\tvar t=Math.floor(Math.random()*arr.length);\r\n\t\t\ttemp.push(arr.splice(t,1)[0])\r\n\t\t}\r\n\t\treturn temp;\r\n\t},\r\n\t\r\n// \t// 复制一维数组\r\n// \tcopyArr(arr){\r\n// \t\tvar temp=[];\r\n// \t\tarr.forEach(function(v,i){temp.push(v)})\r\n// \t\treturn temp;\r\n// \t},\r\n\t// 卡构造函数\r\n\tCard(num,sign){\r\n\t\tthis.num=num;\r\n\t\tthis.sign=sign;\r\n\t},\r\n\t\r\n\t// 绘制界面\r\n\tinitDraw(){\r\n\t\tvar _this=this;\r\n\t\t_this.CardArr.forEach(function(v,i){\r\n\t\t\tvar newCard = cc.instantiate(_this.cardPrefab);\r\n\t\t\tnewCard.getComponent('cardjs').num=v.num;\r\n\t\t\tnewCard.getComponent('cardjs').sign=v.sign;\r\n\t\t\t_this.area.addChild(newCard);\r\n\t\t})\r\n\t\t\r\n\t},\r\n  \r\n\r\n\r\n  // 游戏结束\r\n  gameover(){\r\n    var _this=this;\r\n    _this.node.getChildByName('gameover').active=true;\r\n\r\n  },\r\n\r\n  back(){\r\n    cc.director.loadScene(\"main\");\r\n  },\r\n  again(){\r\n    cc.director.loadScene(\"game\");\r\n  }\r\n\r\n\r\n});\r\n"]}